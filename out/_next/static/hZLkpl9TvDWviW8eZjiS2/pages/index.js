(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"2Eek":function(e,t,n){e.exports=n("W7oM")},"4mXO":function(e,t,n){e.exports=n("7TPF")},"7TPF":function(e,t,n){n("AUvm"),e.exports=n("WEpk").Object.getOwnPropertySymbols},"7m0m":function(e,t,n){var a=n("Y7ZC"),r=n("uplh"),i=n("NsO/"),o=n("vwuL"),c=n("IP1Z");a(a.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,a=i(e),l=o.f,s=r(a),f={},u=0;s.length>u;)void 0!==(n=l(a,t=s[u++]))&&c(f,t,n);return f}})},RNiq:function(e,t,n){"use strict";n.r(t);var a=n("hfKm"),r=n.n(a),i=n("2Eek"),o=n.n(i),c=n("XoMD"),l=n.n(c),s=n("Jo+v"),f=n.n(s),u=n("4mXO"),d=n.n(u),h=n("pLtp"),p=n.n(h),m=n("vYYK"),y=n("6BQ9"),g=n.n(y),v=n("MX0m"),b=n.n(v),w=n("q1tI"),k=n.n(w),x="CHAPTER 1. Loomings.\n\nCall me Ishmael. Some years ago - never mind how long precisely - having little or no money in my purse, and nothing particular to interest me on shore, I thought I would sail about a little and see the watery part of the world. It is a way I have of driving off the spleen and regulating the circulation.",S=k.a.createElement,j=function(e){var t=e.k,n=e.label,a=e.clickKey;return S("div",{style:{userSelect:"none",MozUserSelect:"none"}},S("span",{style:{outline:"solid 1px black",paddingLeft:"0.5ch",paddingRight:"0.5ch",background:"white",cursor:"default"},onClick:function(){a(t)}},t),""!==n?S("span",null," ",S("span",{style:{marginRight:"2ch"}},n)):"")};function M(e){return{paddingLeft:e,paddingRight:e}}function O(e){return{paddingTop:e,paddingBottom:e}}function E(e){var t=e.split("");return(t=t.reverse()).join("")}function R(e){var t=e.split("");return 0===t.length&&(t=[" "]),t.map(function(e){return E(e.charCodeAt(0).toString(2).padStart(8,"0"))})}function N(e){return e.map(function(e){return function(e){var t=E(e);return String.fromCharCode(g()(t,2))}(e)}).join("")}var K=k.a.createElement;function C(e,t){var n=p()(e);if(d.a){var a=d()(e);t&&(a=a.filter(function(t){return f()(e,t).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){Object(m.a)(e,t,n[t])}):l.a?o()(e,l()(n)):C(Object(n)).forEach(function(t){r()(e,t,f()(n,t))})}return e}var P=16,B=1.5,L=P*B,W=6,T=1,D=8,_=T*W,z=D*W,A="#fb4934",H="#83a598";t.default=function(){var e=Object(w.useState)(x),t=e[0],n=e[1],a=Object(w.useState)(x),r=a[0],i=a[1],o=Object(w.useRef)(null),c=Object(w.useRef)(null),l=Object(w.useRef)(null),s=Object(w.useRef)(null),f=Object(w.useRef)(null),u=Object(w.useRef)([0,0,W,W]),d=Object(w.useRef)({}),h=Object(w.useRef)([0,0]),p=Object(w.useRef)([0,0]),m=Object(w.useRef)(null),y=Object(w.useRef)(),v=Object(w.useState)(!0),k=v[0],S=v[1];function C(e){var t=d.current;t[e]=!0,U({key:e}),setTimeout(function(){t[e]=!1},0)}function Y(e){y.current=e,f.current.style.width=e+"px"}function Z(e){var a,r=u.current,i=h.current,o=R(t),c=Math.floor(r[0]/(T*W)),l=Math.floor(r[1]/(D*W)),s=l*i[0]+c,f=(r[0]-c*T*W)/W,d=(r[1]-l*D*W)/W*T+f,p=o[s].split(""),m=p[d];if(m!==(a="f"===e?1-m:e).toString()){p[d]=a.toString();var y=p.join("");o[s]=y;var g=N(o);n(g)}else q()}function X(e){var a,r=u.current,i=h.current,o=R(t),c=Math.floor(r[0]/(T*W)),l=Math.floor(r[1]/(D*W))*i[0]+c,s=E(o[l]),f=g()("00000000",2),d=g()("11111111",2);(a="subtract"===e?g()(s,2)-1:g()(s,2)+1)<f&&(a=f),a>d&&(a=d),o[l]=E(a.toString(2));var p=N(o);n(p)}function q(){c.current;var e=u.current,n=h.current,a=p.current,r=m.current,o=R(t),l=s.current,f=l.getContext("2d"),d=a[0],g=a[1],v=n[0],b=n[1],w=v*T*W,k=b*D*W;l.width=w+2*d,l.height=k+2*g,f.clearRect(0,0,l.width,l.height),f.strokeStyle="#888",f.lineWidth=1;for(var x=0;x<o.length;x++)Math.floor(x/v);var S=Math.floor(e[1]/z)*v+Math.floor(e[0]/_),j=S%v*T*W,M=Math.floor(S/v)*D*W,O=(e[0]-j)/W,N=(e[1]-M)/W,K=N*T+O;if(S>o.length-1){var C=o.length-1;S=C,j=C%n[0]*T*W,M=Math.floor(C/n[0])*D*W,e[0]=j+O*W,e[1]=M+N*W}f.strokeStyle=H,f.lineWidth=2,f.strokeRect(j-1+d,M-1+g,T*W+2,D*W+2),f.strokeStyle=A,f.lineWidth=2,f.strokeRect(e[0]-1+d,e[1]-1+g,W+2,W+2);var I=t.slice();0===I.length&&(I=" ");var P=I.split("");P[S]='<span style="background: '.concat(H,'">')+P[S]+"</span>";var B=P.join("");if(i(B),void 0!==o[S]){var L=E(o[S]).split("").map(function(e,t){return K===7-t?'<span style="background: '.concat(A,';">').concat(e,"</span>"):e}).join("");L+="  width: ".concat(y.current),r.innerHTML="byte ".concat(S.toString().padStart(o.length.toString().length,"0"),": ").concat(L)}}function F(){var e=c.current,n=f.current,a=l.current;a.width=y.current;var r=a.getContext("2d");r.font="".concat(P,"px/").concat(B," customono");var i=r.measureText("w").width,o=2*i,s=L;p.current=[o,s];var u=R(t),d=T*W,m=Math.floor(e.offsetWidth/d),g=Math.ceil(u.length/m);h.current=[m,Math.max(1,g)];var v=m*T*W,b=g*D*W;a.width=v+4*i,a.height=b+2*L,b>e.offsetHeight?n.style.height=b+2*L+"px":(a.height=e.offsetHeight+2*L,n.style.height=e.offsetHeight+2*L+"px"),r.fillStyle="white",r.fillRect(0,0,a.width,a.height),r.fillStyle="black";for(var w=0;w<g;w++)for(var k=0;k<m;k++){var x=u[w*m+k];if(void 0!==x)for(var S=0;S<D;S++)for(var j=0;j<T;j++)if("1"===x.split("")[S*T+j]){var M=k*T*W+j*W+o,O=w*D*W+S*W+s;r.fillRect(M,O,W,W)}}}function U(e){var n=e.key.toLowerCase(),a=e.repeat,r=d.current,i=u.current,c=W,l=W,s=h.current,f=R(t),p=Math.floor(i[1]/z)*s[0]+Math.floor(i[0]/_),m=p%s[0]*T*W,g=(Math.floor(p/s[0]),i.slice());i[0];i[1],r.h&&(i[0]-=c),r.l&&(i[0]+=c),r.j&&(i[1]+=l),r.k&&(i[1]-=l),Math.floor(i[1]/z)*s[0]+Math.floor(i[0]/_)>f.length-1?(i[0]>g[0]&&(i[0]=g[0]),i[1]>g[1]&&(i[1]=g[1])):(i[0]+i[2]>s[0]*W&&void 0!==f[p+1]&&(i[0]=0,i[1]+=8*W),i[0]<0&&(0===p?i[0]=0:(i[0]=s[0]*T*W-i[2],i[1]-=8*W)),i[1]<0&&(i[1]=0));var v=!1;"f"===n&&!a||r.f&&"f"!==n?(v=!0,Z("f")):r.d?(v=!0,Z(1)):r.e&&(v=!0,Z(0));var b=10;if(e.shiftKey&&(b=1),"u"===n||"arrowleft"===n){var w=y.current-b;w<40&&(w=40),Y(w),F()}else"i"!==n&&"arrowright"!==n||(Y(y.current+b),F());if(r.a?(v=!0,X("add")):r.s&&(v=!0,X("subtract")),v||q(),"t"===n){o.current.focus();var k=o.current;k.selectionStart=k.selectionEnd=k.value.length}else if("w"===n){var x=document.createElement("a");x.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),x.setAttribute("download","bix-width-".concat(y.current,"-").concat((new Date).toISOString().slice(0,-4).replace(/-/g,"").replace(/:/g,"").replace(/_/g,"").replace(/\./g,""),"Z.txt")),x.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}else"?"===n&&S(function(e){return!e})}function G(e){var t=e.key.toLowerCase();d.current[t]=!0,U(e),"t"===t&&e.preventDefault()}function J(e){var t=e.key.toLowerCase();d.current[t]=!1}return Object(w.useEffect)(function(){F(),q()},[t]),Object(w.useEffect)(function(){console.log("keys used","hjklfdeastw?uiUI"),Y(window.innerWidth),F(),q()},[]),Object(w.useEffect)(function(){return window.addEventListener("keydown",G),window.addEventListener("keyup",J),function(){window.removeEventListener("keydown",G),window.removeEventListener("keyup",J)}},[t]),K("div",{className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K("div",{ref:f,style:{background:"white"},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K("canvas",{style:{position:"absolute",left:0,top:0},ref:l,className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])}),K("canvas",{style:{position:"absolute",left:0,top:0,pointerEvents:"none"},ref:s,className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])}),K("div",{style:I({display:"grid"},M("2ch"),{},O(L),{gridTemplateColumns:"1fr 1fr",gridColumnGap:"2ch"}),className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K("div",{className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])}),K("div",{style:{position:"relative"},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K("div",{ref:c,style:{color:"transparent",background:"white",position:"relative",width:"100%",whiteSpace:"pre-wrap",wordBreak:"break-word",pointerEvents:"none"},dangerouslySetInnerHTML:{__html:r+"\u200b"},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])}),K("textarea",{onKeyDown:function(e){"Escape"===e.key&&e.target.blur(),e.shiftKey&&"Enter"===e.key&&e.target.blur(),e.stopPropagation()},onChange:function(e){var t;t=e.target.value,n(t)},ref:o,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",resize:"none",whiteSpace:"pre-wrap",wordBreak:"break-word"},spellCheck:"false",value:t,className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])})))),K("div",{style:I({},M("2ch"),{},O(L/2),{whiteSpace:"pre-wrap",wordBreak:"break-word"}),ref:m,className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])}),K("div",{style:{position:"fixed",right:"2ch",maxWidth:"calc(100% - 4ch)",bottom:L,background:"white",fontSize:15,lineHeight:1.5},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K("div",{style:{position:"fixed",right:"2ch",bottom:L,display:k?"none":"block"},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K(j,{clickKey:C,k:"?",label:""})),K("div",{style:I({},M("2ch"),{},O(L/2),{outline:"solid 1px black",display:k?"block":"none"}),className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K("div",{style:{marginBottom:L/4},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},"Bix lets you draw on binary to glitch text."),K("div",{className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},"MOVE"),K("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:L/4},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K(j,{clickKey:C,k:"h",label:"previous byte"}),K(j,{clickKey:C,k:"j",label:"next bit"}),K(j,{clickKey:C,k:"k",label:"previous bit"}),K(j,{clickKey:C,k:"l",label:"next byte"})),K("div",{className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},"EDIT BINARY"),K("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:L/4},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K(j,{clickKey:C,k:"d",label:"draw"}),K(j,{clickKey:C,k:"e",label:"erase"}),K(j,{clickKey:C,k:"f",label:"flip"}),K(j,{clickKey:C,k:"a",label:"add 1 to byte"}),K(j,{clickKey:C,k:"s",label:"subtract 1 from byte"})),K("div",{className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},"SIZE"),K("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:L/4},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K(j,{clickKey:C,k:"u",label:"decrease width"}),K(j,{clickKey:C,k:"i",label:"increase width"})),K("div",{className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},"SPECIAL"),K("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:L/4},className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K(j,{clickKey:C,k:"t",label:"edit text"}),K(j,{clickKey:C,k:"w",label:"save as txt"}),K(j,{clickKey:C,k:"?",label:"toggle help"})),K("div",{className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},K("a",{href:"https://github.com/constraint-systems/bix",className:b.a.dynamic([["2969947943",[P,B,L,2*L]]])},"View source")))),K(b.a,{id:"2969947943",dynamic:[P,B,L,2*L]},["@font-face{font-family:'custom';src:url('/IBMPlexSans-Regular.woff2') format('woff2'), url('/IBMPlexSans-Regular.woff') format('woff');}","@font-face{font-family:'customono';src:url('/IBMPlexMono-Regular.woff2') format('woff2'), url('/IBMPlexMono-Regular.woff') format('woff');}","*{box-sizing:border-box;}","html{font-family:'customono',sans-serif;font-size:".concat(P,"px;line-height:").concat(B,";background:#ddd;}"),"body{margin:0;padding:0;}","canvas{display:block;}","h1,h2,h3,h4,h5,h6{margin:0;font-size:inherit;line-height:inherit;font-weight:normal;}","p{margin:0;margin-top:".concat(L,"px;}"),"img{display:block;width:100%;}","a{color:inherit;}","a:hover{opacity:0.8;}","textarea{border:none;margin:0;font-size:inherit;padding:0;line-height:inherit;font-weight:normal;font:inherit;background:transparent;}","textarea:focus{outline:none;background:rgba(0,0,0,0.125);}","@media (max-width:800px){.help{max-height:calc(50vh - ".concat(2*L,"px);}.diptych-container{padding-bottom:50vh;}}"),"#__next-prerender-indicator{display:none;}"]))}},W7oM:function(e,t,n){n("nZgG");var a=n("WEpk").Object;e.exports=function(e,t){return a.defineProperties(e,t)}},XoMD:function(e,t,n){e.exports=n("hYAz")},hYAz:function(e,t,n){n("7m0m"),e.exports=n("WEpk").Object.getOwnPropertyDescriptors},nZgG:function(e,t,n){var a=n("Y7ZC");a(a.S+a.F*!n("jmDH"),"Object",{defineProperties:n("fpC5")})},uplh:function(e,t,n){var a=n("ar/p"),r=n("mqlF"),i=n("5K7Z"),o=n("5T2Y").Reflect;e.exports=o&&o.ownKeys||function(e){var t=a.f(i(e)),n=r.f;return n?t.concat(n(e)):t}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",1,0]]]);