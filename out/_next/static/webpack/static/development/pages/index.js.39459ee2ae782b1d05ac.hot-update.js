webpackHotUpdate("static/development/pages/index.js",{

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/define-property */ "./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_define_properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/define-properties */ "./node_modules/@babel/runtime-corejs2/core-js/object/define-properties.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_define_properties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_define_properties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/get-own-property-descriptors */ "./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptors.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/get-own-property-descriptor */ "./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/get-own-property-symbols */ "./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/keys */ "./node_modules/@babel/runtime-corejs2/core-js/object/keys.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs2/helpers/esm/defineProperty */ "./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/parse-int */ "./node_modules/@babel/runtime-corejs2/core-js/parse-int.js");
/* harmony import */ var _babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! styled-jsx/style */ "./node_modules/styled-jsx/style.js");
/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _components_constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/constants */ "./components/constants.js");
/* harmony import */ var _components_keycap__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/keycap */ "./components/keycap.js");
/* harmony import */ var _components_utilities__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/utilities */ "./components/utilities.js");








var _jsxFileName = "/home/grant/sites/constraint-systems/bix/pages/index.js";

var __jsx = react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement;

function ownKeys(object, enumerableOnly) { var keys = _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(object); if (_babel_runtime_corejs2_core_js_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default.a) { var symbols = _babel_runtime_corejs2_core_js_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_4___default()(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _babel_runtime_corejs2_core_js_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__["default"])(target, key, source[key]); }); } else if (_babel_runtime_corejs2_core_js_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default.a) { _babel_runtime_corejs2_core_js_object_define_properties__WEBPACK_IMPORTED_MODULE_1___default()(target, _babel_runtime_corejs2_core_js_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_2___default()(source)); } else { ownKeys(Object(source)).forEach(function (key) { _babel_runtime_corejs2_core_js_object_define_property__WEBPACK_IMPORTED_MODULE_0___default()(target, key, _babel_runtime_corejs2_core_js_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_3___default()(source, key)); }); } } return target; }




 // let short_text = `Rachel: Can I ask you a personal question?
// Deckard: Sure.
// Rachel: Have you ever retired a human by mistake?
// Deckard: No.
// Rachel: But in your position that is a risk.`;

function wrapText(context, text, x, y, maxWidth, lineHeight) {
  // from https://codepen.io/peterhry/pen/AGIEa
  // modified to respect line breaks
  var ogx = x;
  var ogy = y;
  var paragraphs = text.split('\n');
  var height = 0;

  for (var p = 0; p < paragraphs.length; p++) {
    var _text = paragraphs[p];

    var words = _text.split(' '),
        line = '',
        lineCount = 0,
        i,
        test,
        metrics;

    for (i = 0; i < words.length; i++) {
      test = words[i];
      metrics = context.measureText(test);

      while (metrics.width >= maxWidth) {
        // Determine how much of the word will fit
        test = test.substring(0, test.length - 1);
        metrics = context.measureText(test);
      }

      if (words[i] != test) {
        words.splice(i + 1, 0, words[i].substr(test.length));
        words[i] = test;
      }

      test = line + words[i] + ' ';
      metrics = context.measureText(test);

      if (metrics.width >= maxWidth && i > 0) {
        context.fillText(line, x, y);
        line = words[i] + ' ';
        y += lineHeight;
        lineCount++;
      } else {
        line = test;
      }
    }

    context.fillText(line, x, y);
    y += lineHeight;
    height += lineHeight;
  }

  return height;
}

var fs = 16;
var lh = 1.5; // let lh = 1.1999988555908203;

var rlh = fs * lh;
var keys_used = 'hjklfdeastw?';
var bs = 6;
var byte_cols = 1;
var byte_rows = 8;
var byte_width = byte_cols * bs;
var byte_height = byte_rows * bs;
var red = '#fb4934';
var green = '#b8bb26';
var yellow = '#fab2f';
var blue = '#83a598';
var purple = '#d3869b';
var aqua = '#8ec07c';

var Index = function Index() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(_components_constants__WEBPACK_IMPORTED_MODULE_10__["short_text"]),
      text = _useState[0],
      _setText = _useState[1];

  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(_components_constants__WEBPACK_IMPORTED_MODULE_10__["short_text"]),
      display_text = _useState2[0],
      setDisplayText = _useState2[1];

  var textarea_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(null);
  var textdiv_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(null);
  var canvas_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(null);
  var canvas_overlay_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(null);
  var container_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(null);
  var cursor_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])([0, 0, bs, bs]);
  var keymap_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])({});
  var byte_holder_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])([0, 0]);
  var offset_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])([0, 0]);
  var readout_ref = Object(react__WEBPACK_IMPORTED_MODULE_9__["useRef"])(null);

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(true),
      help = _useState3[0],
      setHelp = _useState3[1];

  function setText(new_text) {
    // if (new_text.length === 0) new_text = ' ';
    _setText(new_text);
  }

  function clickKey(key) {
    var km = keymap_ref.current;
    km[key] = true;
    keyAction(key, false);
    setTimeout(function () {
      km[key] = false;
    }, 0);
  }

  function changeBit(val) {
    var cursor = cursor_ref.current;
    var byte_holder = byte_holder_ref.current;
    var bytes = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["convertStringToBytes"])(text);
    var byte_x = Math.floor(cursor[0] / (byte_cols * bs));
    var byte_y = Math.floor(cursor[1] / (byte_rows * bs));
    var byte_index = byte_y * byte_holder[0] + byte_x;
    var bit_x = (cursor[0] - byte_x * byte_cols * bs) / bs;
    var bit_y = (cursor[1] - byte_y * byte_rows * bs) / bs;
    var bit_index = bit_y * byte_cols + bit_x;
    var bexpand = bytes[byte_index].split('');
    var current_bit = bexpand[bit_index];
    var new_bit;

    if (val === 'f') {
      new_bit = 1 - current_bit;
    } else {
      new_bit = val;
    }

    if (current_bit !== new_bit.toString()) {
      bexpand[bit_index] = new_bit.toString();
      var bcontract = bexpand.join('');
      bytes[byte_index] = bcontract;
      var new_text = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["convertBytesToText"])(bytes);
      setText(new_text);
    } else {
      move();
    }
  }

  function mathByte(operation) {
    var cursor = cursor_ref.current;
    var byte_holder = byte_holder_ref.current;
    var bytes = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["convertStringToBytes"])(text);
    var byte_x = Math.floor(cursor[0] / (byte_cols * bs));
    var byte_y = Math.floor(cursor[1] / (byte_rows * bs));
    var byte_index = byte_y * byte_holder[0] + byte_x;

    var _byte = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["reverseString"])(bytes[byte_index]);

    var min = _babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_7___default()('00000000', 2);

    var max = _babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_7___default()('11111111', 2);

    var new_byte;

    if (operation === 'subtract') {
      new_byte = _babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_7___default()(_byte, 2) - 1;
    } else {
      new_byte = _babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_7___default()(_byte, 2) + 1;
    }

    if (new_byte < min) new_byte = min;
    if (new_byte > max) new_byte = max;
    bytes[byte_index] = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["reverseString"])(new_byte.toString(2));
    var new_text = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["convertBytesToText"])(bytes);
    setText(new_text);
  }

  function move() {
    var textdiv = textdiv_ref.current;
    var cursor = cursor_ref.current;
    var byte_holder = byte_holder_ref.current;
    var offset = offset_ref.current;
    var readout = readout_ref.current;
    var bytes = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["convertStringToBytes"])(text);
    var overlay = canvas_overlay_ref.current;
    var otx = overlay.getContext('2d');
    var offset_x = offset[0];
    var offset_y = offset[1];
    var byte_holder_cols = byte_holder[0];
    var byte_holder_rows = byte_holder[1];
    var byte_holder_width = byte_holder_cols * byte_cols * bs;
    var byte_holder_height = byte_holder_rows * byte_rows * bs;
    overlay.width = byte_holder_width + offset_x * 2;
    overlay.height = byte_holder_height + offset_y * 2;
    otx.clearRect(0, 0, overlay.width, overlay.height);
    otx.strokeStyle = '#888';
    otx.lineWidth = 1;

    for (var i = 0; i < bytes.length; i++) {
      var x = i % byte_holder_cols * byte_cols * bs + offset_x;
      var y = Math.floor(i / byte_holder_cols) * byte_rows * bs + offset_y; // otx.strokeRect(x, y, byte_cols * bs, byte_rows * bs);
    }

    var byte_index = Math.floor(cursor[1] / byte_height) * byte_holder_cols + Math.floor(cursor[0] / byte_width);
    var byte_x = byte_index % byte_holder_cols * byte_cols * bs;
    var byte_y = Math.floor(byte_index / byte_holder_cols) * byte_rows * bs;
    var bit_x = (cursor[0] - byte_x) / bs;
    var bit_y = (cursor[1] - byte_y) / bs;
    var bit_index = bit_y * byte_cols + bit_x; // clean up byte index if it is outside the bounds

    if (byte_index > bytes.length - 1) {
      var last_byte_index = bytes.length - 1;
      byte_index = last_byte_index;
      byte_x = last_byte_index % byte_holder[0] * byte_cols * bs;
      byte_y = Math.floor(last_byte_index / byte_holder[0]) * byte_rows * bs;
      cursor[0] = byte_x + bit_x * bs;
      cursor[1] = byte_y + bit_y * bs;
    }

    otx.strokeStyle = blue;
    otx.lineWidth = 2;
    otx.strokeRect(byte_x - 1 + offset_x, byte_y - 1 + offset_y, byte_cols * bs + 2, byte_rows * bs + 2);
    otx.strokeStyle = red;
    otx.lineWidth = 2;
    otx.strokeRect(cursor[0] - 1 + offset_x, cursor[1] - 1 + offset_y, bs + 2, bs + 2);
    var display_text = text.slice();
    var display_array = display_text.split('');
    display_array[byte_index] = "<span style=\"background: ".concat(blue, "\">") + display_array[byte_index] + '</span>';
    var new_text = display_array.join('');
    setDisplayText(new_text);

    if (text.length > 0) {
      var bit_readout = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["reverseString"])(bytes[byte_index]).split('').map(function (b, i) {
        if (bit_index === 7 - i) {
          return "<span style=\"background: ".concat(red, ";\">").concat(b, "</span>");
        } else {
          return b;
        }
      }).join('');
      readout.innerHTML = "Byte ".concat(byte_index.toString().padStart(bytes.length.toString().length, '0'), ": ").concat(bit_readout);
    }
  }

  function respond() {
    var textdiv = textdiv_ref.current;
    var container = container_ref.current;
    var canvas = canvas_ref.current;
    canvas.width = window.innerWidth;
    var ctx = canvas.getContext('2d');
    ctx.font = "".concat(fs, "px/").concat(lh, " customono");
    var ch = ctx.measureText('w').width;
    var offset_x = ch * 2;
    var offset_y = rlh;
    offset_ref.current = [offset_x, offset_y];
    var bytes = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["convertStringToBytes"])(text);
    var byte_width = byte_cols * bs;
    var byte_height = byte_rows * bs;
    var byte_holder_cols = Math.floor(textdiv.offsetWidth / byte_width);
    var byte_holder_rows = Math.ceil(bytes.length / byte_holder_cols);
    byte_holder_ref.current = [byte_holder_cols, Math.max(1, byte_holder_rows)];
    var byte_holder_width = byte_holder_cols * byte_cols * bs;
    var byte_holder_height = byte_holder_rows * byte_rows * bs;
    canvas.width = window.innerWidth;
    canvas.height = byte_holder_height + rlh * 2;

    if (byte_holder_height > textdiv.offsetHeight) {
      container.style.height = byte_holder_height + rlh * 2 + 'px';
    } else {
      canvas.height = textdiv.offsetHeight + rlh * 2;
      container.style.height = textdiv.offsetHeight + rlh * 2 + 'px';
    }

    ctx.fillStyle = 'white';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = 'black';

    for (var byr = 0; byr < byte_holder_rows; byr++) {
      for (var byc = 0; byc < byte_holder_cols; byc++) {
        var byte_index = byr * byte_holder_cols + byc;
        var _byte2 = bytes[byte_index];

        if (_byte2 !== undefined) {
          for (var br = 0; br < byte_rows; br++) {
            for (var bc = 0; bc < byte_cols; bc++) {
              var bit = _byte2.split('')[br * byte_cols + bc];

              if (bit === '1') {
                var x = byc * byte_cols * bs + bc * bs + offset_x;
                var y = byr * byte_rows * bs + br * bs + offset_y;
                ctx.fillRect(x, y, bs, bs);
              }
            }
          }
        }
      }
    }

    ctx.font = "".concat(fs, "px customono");
    ctx.textBaseline = 'middle';
    ctx.fillStyle = 'black';
    var height = wrapText(ctx, text, canvas.width / 2 + ch * 1, rlh + rlh / 2, (canvas.width - 6 * ch) / 2 + ch - 0.1, fs * lh);
  }

  function handleText(value) {
    setText(value);
  }

  function keyAction(key, repeat) {
    var km = keymap_ref.current;
    var cursor = cursor_ref.current;
    var x_inc = bs;
    var y_inc = bs;
    var byte_holder = byte_holder_ref.current;
    var bytes = Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["convertStringToBytes"])(text);
    var byte_index = Math.floor(cursor[1] / byte_height) * byte_holder[0] + Math.floor(cursor[0] / byte_width);
    var byte_x = byte_index % byte_holder[0] * byte_cols * bs;
    var byte_y = Math.floor(byte_index / byte_holder[0]) * byte_rows * bs;
    var prev_cursor = cursor.slice();
    var bit_x = (cursor[0] - byte_x) / bs;
    var bit_y = (cursor[1] - byte_y) / bs;
    var bit_index = bit_y * byte_cols + bit_x;
    if (km['h']) cursor[0] -= x_inc;
    if (km['l']) cursor[0] += x_inc;
    if (km['j']) cursor[1] += y_inc;
    if (km['k']) cursor[1] -= y_inc;
    var new_byte_index = Math.floor(cursor[1] / byte_height) * byte_holder[0] + Math.floor(cursor[0] / byte_width);

    if (new_byte_index > bytes.length - 1) {
      if (cursor[0] > prev_cursor[0]) {
        cursor[0] = prev_cursor[0];
      }

      if (cursor[1] > prev_cursor[1]) {
        cursor[1] = prev_cursor[1];
      }
    } else {
      if (cursor[0] + cursor[2] > byte_holder[0] * bs) {
        if (bytes[byte_index + 1] !== undefined) {
          cursor[0] = 0;
          cursor[1] += 8 * bs;
        }
      }

      if (cursor[0] < 0) {
        if (byte_index === 0) {
          cursor[0] = 0;
        } else {
          cursor[0] = byte_holder[0] * byte_cols * bs - cursor[2];
          cursor[1] -= 8 * bs;
        }
      }

      if (cursor[1] < 0) {
        cursor[1] = 0;
      }
    }

    var bit_changed = false;

    if (key === 'f' && !repeat || km['f'] && key !== 'f') {
      bit_changed = true;
      changeBit('f');
    } else if (km['d']) {
      bit_changed = true;
      changeBit(1);
    } else if (km['e']) {
      bit_changed = true;
      changeBit(0);
    } // if (km['a'] && !(key === 'a' && repeat)) {


    if (km['a']) {
      bit_changed = true;
      mathByte('add'); // } else if (km['s'] && !(key === 's' && repeat)) {
    } else if (km['s']) {
      bit_changed = true;
      mathByte('subtract');
    }

    if (!bit_changed) move();

    if (key === 't') {
      textarea_ref.current.focus();
      var t = textarea_ref.current;
      t.selectionStart = t.selectionEnd = t.value.length;
    } else if (key === 'w') {
      var link = document.createElement('a');

      var revokeURL = function revokeURL() {
        var me = this;
        requestAnimationFrame(function () {
          URL.revokeObjectURL(me.href);
          me.href = null;
        });
        this.removeEventListener('click', revokeURL);
      };

      canvas_ref.current.toBlob(function (blob) {
        link.setAttribute('download', "bix-".concat(new Date().toISOString().slice(0, -4).replace(/-/g, '').replace(/:/g, '').replace(/_/g, '').replace(/\./g, ''), "Z.png"));
        link.setAttribute('href', URL.createObjectURL(blob));
        link.addEventListener('click', revokeURL);
        link.dispatchEvent(new MouseEvent("click", {
          bubbles: true,
          cancelable: true,
          view: window
        }));
      });
    } else if (key === '?') {
      setHelp(function (prevState) {
        return !prevState;
      });
    }
  }

  Object(react__WEBPACK_IMPORTED_MODULE_9__["useEffect"])(function () {
    respond();
    move();
  }, [text]);
  Object(react__WEBPACK_IMPORTED_MODULE_9__["useEffect"])(function () {
    respond();
    move();
  }, []);

  function downHandler(e) {
    var key = e.key.toLowerCase();
    keymap_ref.current[key] = true;
    keyAction(key, e.repeat);
    if (key === 't') e.preventDefault();
  }

  function upHandler(e) {
    var key = e.key.toLowerCase();
    keymap_ref.current[key] = false;
  }

  Object(react__WEBPACK_IMPORTED_MODULE_9__["useEffect"])(function () {
    window.addEventListener('keydown', downHandler);
    window.addEventListener('keyup', upHandler);
    return function () {
      window.removeEventListener('keydown', downHandler);
      window.removeEventListener('keyup', upHandler);
    };
  }, [text]);
  return __jsx("div", {
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 515
    },
    __self: this
  }, __jsx("div", {
    ref: container_ref,
    style: {
      background: 'white'
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 516
    },
    __self: this
  }, __jsx("canvas", {
    style: {
      position: 'absolute',
      left: 0,
      top: 0
    },
    ref: canvas_ref,
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 517
    },
    __self: this
  }), __jsx("canvas", {
    style: {
      position: 'absolute',
      left: 0,
      top: 0
    },
    ref: canvas_overlay_ref,
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 521
    },
    __self: this
  }), __jsx("div", {
    style: _objectSpread({
      display: 'grid'
    }, Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["pInline"])('2ch'), {}, Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["pBlock"])(rlh), {
      gridTemplateColumns: '1fr 1fr',
      gridColumnGap: '2ch'
    }),
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 525
    },
    __self: this
  }, __jsx("div", {
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 534
    },
    __self: this
  }), __jsx("div", {
    style: {
      position: 'relative'
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 535
    },
    __self: this
  }, __jsx("div", {
    ref: textdiv_ref,
    style: {
      color: 'transparent',
      background: 'white',
      position: 'relative',
      width: '100%',
      whiteSpace: 'pre-wrap',
      wordBreak: 'break-word',
      pointerEvents: 'none'
    },
    dangerouslySetInnerHTML: {
      __html: display_text + '​'
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 536
    },
    __self: this
  }), __jsx("textarea", {
    onKeyDown: function onKeyDown(e) {
      if (e.key === 'Escape') e.target.blur();
      if (e.shiftKey && e.key === 'Enter') e.target.blur();
      e.stopPropagation();
    },
    onChange: function onChange(e) {
      handleText(e.target.value);
    },
    ref: textarea_ref,
    style: {
      position: 'absolute',
      left: 0,
      top: 0,
      width: '100%',
      height: '100%',
      resize: 'none',
      whiteSpace: 'pre-wrap',
      wordBreak: 'break-word'
    },
    spellCheck: "false",
    value: text,
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 549
    },
    __self: this
  })))), __jsx("div", {
    style: _objectSpread({}, Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["pInline"])('2ch'), {}, Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["pBlock"])(rlh / 2)),
    ref: readout_ref,
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 575
    },
    __self: this
  }), __jsx("div", {
    style: {
      position: 'fixed',
      right: '2ch',
      bottom: rlh,
      background: 'white',
      fontSize: 15,
      lineHeight: 1.5
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 579
    },
    __self: this
  }, __jsx("div", {
    style: {
      position: 'fixed',
      right: '2ch',
      bottom: rlh,
      display: !help ? 'block' : 'none'
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 589
    },
    __self: this
  }, __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "?",
    label: "",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 597
    },
    __self: this
  })), __jsx("div", {
    style: _objectSpread({}, Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["pInline"])('2ch'), {}, Object(_components_utilities__WEBPACK_IMPORTED_MODULE_12__["pBlock"])(rlh / 2), {
      outline: 'solid 1px black',
      display: help ? 'block' : 'none'
    }),
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 599
    },
    __self: this
  }, __jsx("div", {
    style: {
      marginBottom: rlh / 4
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 607
    },
    __self: this
  }, "Bix let's you draw on binary to glitch text."), __jsx("div", {
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 610
    },
    __self: this
  }, "MOVE"), __jsx("div", {
    style: {
      display: 'flex',
      flexWrap: 'wrap',
      marginBottom: rlh / 4
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 611
    },
    __self: this
  }, __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "h",
    label: "previous byte",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 614
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "j",
    label: "next bit",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 615
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "k",
    label: "previous bit",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 616
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "l",
    label: "next byte",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 617
    },
    __self: this
  })), __jsx("div", {
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 619
    },
    __self: this
  }, "EDIT BINARY"), __jsx("div", {
    style: {
      display: 'flex',
      flexWrap: 'wrap',
      marginBottom: rlh / 4
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 620
    },
    __self: this
  }, __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "d",
    label: "draw",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 623
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "e",
    label: "erase",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 624
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "f",
    label: "flip",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 625
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "a",
    label: "add 1 to byte",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 626
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "s",
    label: "subtract 1 from byte",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 627
    },
    __self: this
  })), __jsx("div", {
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 629
    },
    __self: this
  }, "SPECIAL"), __jsx("div", {
    style: {
      display: 'flex',
      flexWrap: 'wrap',
      marginBottom: rlh / 4
    },
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 630
    },
    __self: this
  }, __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "t",
    label: "edit text",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 633
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "w",
    label: "save as png",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 634
    },
    __self: this
  }), __jsx(_components_keycap__WEBPACK_IMPORTED_MODULE_11__["default"], {
    clickKey: clickKey,
    k: "?",
    label: "toggle help",
    __source: {
      fileName: _jsxFileName,
      lineNumber: 635
    },
    __self: this
  })), __jsx("div", {
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 637
    },
    __self: this
  }, __jsx("a", {
    href: "https://github.com/constraint-systems/bix",
    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a.dynamic([["2969947943", [fs, lh, rlh, rlh * 2]]]),
    __source: {
      fileName: _jsxFileName,
      lineNumber: 638
    },
    __self: this
  }, "View source")))), __jsx(styled_jsx_style__WEBPACK_IMPORTED_MODULE_8___default.a, {
    id: "2969947943",
    dynamic: [fs, lh, rlh, rlh * 2],
    __self: this
  }, "@font-face{font-family:'custom';src:url('/IBMPlexSans-Regular.woff2') format('woff2'), url('/IBMPlexSans-Regular.woff') format('woff');}@font-face{font-family:'customono';src:url('/IBMPlexMono-Regular.woff2') format('woff2'), url('/IBMPlexMono-Regular.woff') format('woff');}*{box-sizing:border-box;}html{font-family:'customono',sans-serif;font-size:".concat(fs, "px;line-height:").concat(lh, ";background:#ddd;}body{margin:0;padding:0;}canvas{display:block;}h1,h2,h3,h4,h5,h6{margin:0;font-size:inherit;line-height:inherit;font-weight:normal;}p{margin:0;margin-top:").concat(rlh, "px;}img{display:block;width:100%;}a{color:inherit;}a:hover{opacity:0.8;}textarea{border:none;margin:0;font-size:inherit;padding:0;line-height:inherit;font-weight:normal;font:inherit;background:transparent;}textarea:focus{outline:none;background:rgba(0,0,0,0.125);}@media (max-width:800px){.help{max-height:calc(50vh - ").concat(rlh * 2, "px);}.diptych-container{padding-bottom:50vh;}}#__next-prerender-indicator{display:none;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2dyYW50L3NpdGVzL2NvbnN0cmFpbnQtc3lzdGVtcy9iaXgvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaW9CeUIsQUFHZ0MsQUFLRyxBQUtGLEFBR2MsQUFNM0IsQUFJSyxBQVFMLEFBTUEsQUFJSyxBQUlBLEFBR0YsQUFHQSxBQVVDLEFBSzRDLEFBR25DLEFBSVQsU0FyREgsQUFZUSxBQU13QixHQVc1QyxBQUdXLENBVXVCLEFBWWxDLENBbERBLEFBa0JhLEFBSWIsS0F6QkEsQ0FpREUsQ0FwRWlELEFBbUQvQixDQTFDcEIsRUFKbUQsQ0FvQ25ELEVBVnNCLFFBbkJxQixJQXdDL0IsR0FTWixLQTdCcUIsRUFxQkMsRUFoQnRCLElBNEJFLFdBaENGLEdBcUJxQixPQXpDc0IsWUEwQzVCLGFBQ1UsZ0JBMUNQLE9BYmxCLEFBd0RBLEdBbkRBLE1BU0EiLCJmaWxlIjoiL2hvbWUvZ3JhbnQvc2l0ZXMvY29uc3RyYWludC1zeXN0ZW1zL2JpeC9wYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc2hvcnRfdGV4dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvY29uc3RhbnRzJztcbmltcG9ydCBLZXljYXAgZnJvbSAnLi4vY29tcG9uZW50cy9rZXljYXAnO1xuaW1wb3J0IHtcbiAgcElubGluZSxcbiAgcEJsb2NrLFxuICBjb252ZXJ0U3RyaW5nVG9CeXRlcyxcbiAgY29udmVydEJ5dGVzVG9UZXh0LFxuICByZXZlcnNlU3RyaW5nLFxufSBmcm9tICcuLi9jb21wb25lbnRzL3V0aWxpdGllcyc7XG5cbi8vIGxldCBzaG9ydF90ZXh0ID0gYFJhY2hlbDogQ2FuIEkgYXNrIHlvdSBhIHBlcnNvbmFsIHF1ZXN0aW9uP1xuLy8gRGVja2FyZDogU3VyZS5cbi8vIFJhY2hlbDogSGF2ZSB5b3UgZXZlciByZXRpcmVkIGEgaHVtYW4gYnkgbWlzdGFrZT9cbi8vIERlY2thcmQ6IE5vLlxuLy8gUmFjaGVsOiBCdXQgaW4geW91ciBwb3NpdGlvbiB0aGF0IGlzIGEgcmlzay5gO1xuXG5mdW5jdGlvbiB3cmFwVGV4dChjb250ZXh0LCB0ZXh0LCB4LCB5LCBtYXhXaWR0aCwgbGluZUhlaWdodCkge1xuICAvLyBmcm9tIGh0dHBzOi8vY29kZXBlbi5pby9wZXRlcmhyeS9wZW4vQUdJRWFcbiAgLy8gbW9kaWZpZWQgdG8gcmVzcGVjdCBsaW5lIGJyZWFrc1xuICBsZXQgb2d4ID0geDtcbiAgbGV0IG9neSA9IHk7XG4gIGxldCBwYXJhZ3JhcGhzID0gdGV4dC5zcGxpdCgnXFxuJyk7XG4gIGxldCBoZWlnaHQgPSAwO1xuICBmb3IgKGxldCBwID0gMDsgcCA8IHBhcmFncmFwaHMubGVuZ3RoOyBwKyspIHtcbiAgICBsZXQgdGV4dCA9IHBhcmFncmFwaHNbcF07XG4gICAgdmFyIHdvcmRzID0gdGV4dC5zcGxpdCgnICcpLFxuICAgICAgbGluZSA9ICcnLFxuICAgICAgbGluZUNvdW50ID0gMCxcbiAgICAgIGksXG4gICAgICB0ZXN0LFxuICAgICAgbWV0cmljcztcblxuICAgIGZvciAoaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGVzdCA9IHdvcmRzW2ldO1xuICAgICAgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdCk7XG4gICAgICB3aGlsZSAobWV0cmljcy53aWR0aCA+PSBtYXhXaWR0aCkge1xuICAgICAgICAvLyBEZXRlcm1pbmUgaG93IG11Y2ggb2YgdGhlIHdvcmQgd2lsbCBmaXRcbiAgICAgICAgdGVzdCA9IHRlc3Quc3Vic3RyaW5nKDAsIHRlc3QubGVuZ3RoIC0gMSk7XG4gICAgICAgIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRlc3QpO1xuICAgICAgfVxuICAgICAgaWYgKHdvcmRzW2ldICE9IHRlc3QpIHtcbiAgICAgICAgd29yZHMuc3BsaWNlKGkgKyAxLCAwLCB3b3Jkc1tpXS5zdWJzdHIodGVzdC5sZW5ndGgpKTtcbiAgICAgICAgd29yZHNbaV0gPSB0ZXN0O1xuICAgICAgfVxuXG4gICAgICB0ZXN0ID0gbGluZSArIHdvcmRzW2ldICsgJyAnO1xuICAgICAgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdCk7XG5cbiAgICAgIGlmIChtZXRyaWNzLndpZHRoID49IG1heFdpZHRoICYmIGkgPiAwKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQobGluZSwgeCwgeSk7XG4gICAgICAgIGxpbmUgPSB3b3Jkc1tpXSArICcgJztcbiAgICAgICAgeSArPSBsaW5lSGVpZ2h0O1xuICAgICAgICBsaW5lQ291bnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmUgPSB0ZXN0O1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0LmZpbGxUZXh0KGxpbmUsIHgsIHkpO1xuICAgIHkgKz0gbGluZUhlaWdodDtcbiAgICBoZWlnaHQgKz0gbGluZUhlaWdodDtcbiAgfVxuICByZXR1cm4gaGVpZ2h0O1xufVxuXG5sZXQgZnMgPSAxNjtcbmxldCBsaCA9IDEuNTtcbi8vIGxldCBsaCA9IDEuMTk5OTk4ODU1NTkwODIwMztcbmxldCBybGggPSBmcyAqIGxoO1xuXG5sZXQga2V5c191c2VkID0gJ2hqa2xmZGVhc3R3Pyc7XG5cbmxldCBicyA9IDY7XG5sZXQgYnl0ZV9jb2xzID0gMTtcbmxldCBieXRlX3Jvd3MgPSA4O1xubGV0IGJ5dGVfd2lkdGggPSBieXRlX2NvbHMgKiBicztcbmxldCBieXRlX2hlaWdodCA9IGJ5dGVfcm93cyAqIGJzO1xubGV0IHJlZCA9ICcjZmI0OTM0JztcbmxldCBncmVlbiA9ICcjYjhiYjI2JztcbmxldCB5ZWxsb3cgPSAnI2ZhYjJmJztcbmxldCBibHVlID0gJyM4M2E1OTgnO1xubGV0IHB1cnBsZSA9ICcjZDM4NjliJztcbmxldCBhcXVhID0gJyM4ZWMwN2MnO1xuXG5sZXQgSW5kZXggPSAoKSA9PiB7XG4gIGxldCBbdGV4dCwgX3NldFRleHRdID0gdXNlU3RhdGUoc2hvcnRfdGV4dCk7XG4gIGxldCBbZGlzcGxheV90ZXh0LCBzZXREaXNwbGF5VGV4dF0gPSB1c2VTdGF0ZShzaG9ydF90ZXh0KTtcbiAgbGV0IHRleHRhcmVhX3JlZiA9IHVzZVJlZihudWxsKTtcbiAgbGV0IHRleHRkaXZfcmVmID0gdXNlUmVmKG51bGwpO1xuICBsZXQgY2FudmFzX3JlZiA9IHVzZVJlZihudWxsKTtcbiAgbGV0IGNhbnZhc19vdmVybGF5X3JlZiA9IHVzZVJlZihudWxsKTtcbiAgbGV0IGNvbnRhaW5lcl9yZWYgPSB1c2VSZWYobnVsbCk7XG4gIGxldCBjdXJzb3JfcmVmID0gdXNlUmVmKFswLCAwLCBicywgYnNdKTtcbiAgbGV0IGtleW1hcF9yZWYgPSB1c2VSZWYoe30pO1xuICBsZXQgYnl0ZV9ob2xkZXJfcmVmID0gdXNlUmVmKFswLCAwXSk7XG4gIGxldCBvZmZzZXRfcmVmID0gdXNlUmVmKFswLCAwXSk7XG4gIGxldCByZWFkb3V0X3JlZiA9IHVzZVJlZihudWxsKTtcbiAgbGV0IFtoZWxwLCBzZXRIZWxwXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIGZ1bmN0aW9uIHNldFRleHQobmV3X3RleHQpIHtcbiAgICAvLyBpZiAobmV3X3RleHQubGVuZ3RoID09PSAwKSBuZXdfdGV4dCA9ICcgJztcbiAgICBfc2V0VGV4dChuZXdfdGV4dCk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGlja0tleShrZXkpIHtcbiAgICBsZXQga20gPSBrZXltYXBfcmVmLmN1cnJlbnQ7XG4gICAga21ba2V5XSA9IHRydWU7XG4gICAga2V5QWN0aW9uKGtleSwgZmFsc2UpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAga21ba2V5XSA9IGZhbHNlO1xuICAgIH0sIDApO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hhbmdlQml0KHZhbCkge1xuICAgIGxldCBjdXJzb3IgPSBjdXJzb3JfcmVmLmN1cnJlbnQ7XG4gICAgbGV0IGJ5dGVfaG9sZGVyID0gYnl0ZV9ob2xkZXJfcmVmLmN1cnJlbnQ7XG5cbiAgICBsZXQgYnl0ZXMgPSBjb252ZXJ0U3RyaW5nVG9CeXRlcyh0ZXh0KTtcblxuICAgIGxldCBieXRlX3ggPSBNYXRoLmZsb29yKGN1cnNvclswXSAvIChieXRlX2NvbHMgKiBicykpO1xuICAgIGxldCBieXRlX3kgPSBNYXRoLmZsb29yKGN1cnNvclsxXSAvIChieXRlX3Jvd3MgKiBicykpO1xuXG4gICAgbGV0IGJ5dGVfaW5kZXggPSBieXRlX3kgKiBieXRlX2hvbGRlclswXSArIGJ5dGVfeDtcblxuICAgIGxldCBiaXRfeCA9IChjdXJzb3JbMF0gLSBieXRlX3ggKiBieXRlX2NvbHMgKiBicykgLyBicztcbiAgICBsZXQgYml0X3kgPSAoY3Vyc29yWzFdIC0gYnl0ZV95ICogYnl0ZV9yb3dzICogYnMpIC8gYnM7XG5cbiAgICBsZXQgYml0X2luZGV4ID0gYml0X3kgKiBieXRlX2NvbHMgKyBiaXRfeDtcblxuICAgIGxldCBiZXhwYW5kID0gYnl0ZXNbYnl0ZV9pbmRleF0uc3BsaXQoJycpO1xuICAgIGxldCBjdXJyZW50X2JpdCA9IGJleHBhbmRbYml0X2luZGV4XTtcbiAgICBsZXQgbmV3X2JpdDtcbiAgICBpZiAodmFsID09PSAnZicpIHtcbiAgICAgIG5ld19iaXQgPSAxIC0gY3VycmVudF9iaXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld19iaXQgPSB2YWw7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRfYml0ICE9PSBuZXdfYml0LnRvU3RyaW5nKCkpIHtcbiAgICAgIGJleHBhbmRbYml0X2luZGV4XSA9IG5ld19iaXQudG9TdHJpbmcoKTtcbiAgICAgIGxldCBiY29udHJhY3QgPSBiZXhwYW5kLmpvaW4oJycpO1xuXG4gICAgICBieXRlc1tieXRlX2luZGV4XSA9IGJjb250cmFjdDtcblxuICAgICAgbGV0IG5ld190ZXh0ID0gY29udmVydEJ5dGVzVG9UZXh0KGJ5dGVzKTtcbiAgICAgIHNldFRleHQobmV3X3RleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWF0aEJ5dGUob3BlcmF0aW9uKSB7XG4gICAgbGV0IGN1cnNvciA9IGN1cnNvcl9yZWYuY3VycmVudDtcbiAgICBsZXQgYnl0ZV9ob2xkZXIgPSBieXRlX2hvbGRlcl9yZWYuY3VycmVudDtcblxuICAgIGxldCBieXRlcyA9IGNvbnZlcnRTdHJpbmdUb0J5dGVzKHRleHQpO1xuXG4gICAgbGV0IGJ5dGVfeCA9IE1hdGguZmxvb3IoY3Vyc29yWzBdIC8gKGJ5dGVfY29scyAqIGJzKSk7XG4gICAgbGV0IGJ5dGVfeSA9IE1hdGguZmxvb3IoY3Vyc29yWzFdIC8gKGJ5dGVfcm93cyAqIGJzKSk7XG5cbiAgICBsZXQgYnl0ZV9pbmRleCA9IGJ5dGVfeSAqIGJ5dGVfaG9sZGVyWzBdICsgYnl0ZV94O1xuICAgIGxldCBieXRlID0gcmV2ZXJzZVN0cmluZyhieXRlc1tieXRlX2luZGV4XSk7XG5cbiAgICBsZXQgbWluID0gcGFyc2VJbnQoJzAwMDAwMDAwJywgMik7XG4gICAgbGV0IG1heCA9IHBhcnNlSW50KCcxMTExMTExMScsIDIpO1xuXG4gICAgbGV0IG5ld19ieXRlO1xuICAgIGlmIChvcGVyYXRpb24gPT09ICdzdWJ0cmFjdCcpIHtcbiAgICAgIG5ld19ieXRlID0gcGFyc2VJbnQoYnl0ZSwgMikgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdfYnl0ZSA9IHBhcnNlSW50KGJ5dGUsIDIpICsgMTtcbiAgICB9XG5cbiAgICBpZiAobmV3X2J5dGUgPCBtaW4pIG5ld19ieXRlID0gbWluO1xuICAgIGlmIChuZXdfYnl0ZSA+IG1heCkgbmV3X2J5dGUgPSBtYXg7XG5cbiAgICBieXRlc1tieXRlX2luZGV4XSA9IHJldmVyc2VTdHJpbmcobmV3X2J5dGUudG9TdHJpbmcoMikpO1xuXG4gICAgbGV0IG5ld190ZXh0ID0gY29udmVydEJ5dGVzVG9UZXh0KGJ5dGVzKTtcbiAgICBzZXRUZXh0KG5ld190ZXh0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmUoKSB7XG4gICAgbGV0IHRleHRkaXYgPSB0ZXh0ZGl2X3JlZi5jdXJyZW50O1xuICAgIGxldCBjdXJzb3IgPSBjdXJzb3JfcmVmLmN1cnJlbnQ7XG4gICAgbGV0IGJ5dGVfaG9sZGVyID0gYnl0ZV9ob2xkZXJfcmVmLmN1cnJlbnQ7XG4gICAgbGV0IG9mZnNldCA9IG9mZnNldF9yZWYuY3VycmVudDtcbiAgICBsZXQgcmVhZG91dCA9IHJlYWRvdXRfcmVmLmN1cnJlbnQ7XG5cbiAgICBsZXQgYnl0ZXMgPSBjb252ZXJ0U3RyaW5nVG9CeXRlcyh0ZXh0KTtcblxuICAgIGxldCBvdmVybGF5ID0gY2FudmFzX292ZXJsYXlfcmVmLmN1cnJlbnQ7XG4gICAgbGV0IG90eCA9IG92ZXJsYXkuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGxldCBvZmZzZXRfeCA9IG9mZnNldFswXTtcbiAgICBsZXQgb2Zmc2V0X3kgPSBvZmZzZXRbMV07XG5cbiAgICBsZXQgYnl0ZV9ob2xkZXJfY29scyA9IGJ5dGVfaG9sZGVyWzBdO1xuICAgIGxldCBieXRlX2hvbGRlcl9yb3dzID0gYnl0ZV9ob2xkZXJbMV07XG5cbiAgICBsZXQgYnl0ZV9ob2xkZXJfd2lkdGggPSBieXRlX2hvbGRlcl9jb2xzICogYnl0ZV9jb2xzICogYnM7XG4gICAgbGV0IGJ5dGVfaG9sZGVyX2hlaWdodCA9IGJ5dGVfaG9sZGVyX3Jvd3MgKiBieXRlX3Jvd3MgKiBicztcblxuICAgIG92ZXJsYXkud2lkdGggPSBieXRlX2hvbGRlcl93aWR0aCArIG9mZnNldF94ICogMjtcbiAgICBvdmVybGF5LmhlaWdodCA9IGJ5dGVfaG9sZGVyX2hlaWdodCArIG9mZnNldF95ICogMjtcblxuICAgIG90eC5jbGVhclJlY3QoMCwgMCwgb3ZlcmxheS53aWR0aCwgb3ZlcmxheS5oZWlnaHQpO1xuICAgIG90eC5zdHJva2VTdHlsZSA9ICcjODg4JztcbiAgICBvdHgubGluZVdpZHRoID0gMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgeCA9IChpICUgYnl0ZV9ob2xkZXJfY29scykgKiBieXRlX2NvbHMgKiBicyArIG9mZnNldF94O1xuICAgICAgbGV0IHkgPSBNYXRoLmZsb29yKGkgLyBieXRlX2hvbGRlcl9jb2xzKSAqIGJ5dGVfcm93cyAqIGJzICsgb2Zmc2V0X3k7XG4gICAgICAvLyBvdHguc3Ryb2tlUmVjdCh4LCB5LCBieXRlX2NvbHMgKiBicywgYnl0ZV9yb3dzICogYnMpO1xuICAgIH1cblxuICAgIGxldCBieXRlX2luZGV4ID1cbiAgICAgIE1hdGguZmxvb3IoY3Vyc29yWzFdIC8gYnl0ZV9oZWlnaHQpICogYnl0ZV9ob2xkZXJfY29scyArXG4gICAgICBNYXRoLmZsb29yKGN1cnNvclswXSAvIGJ5dGVfd2lkdGgpO1xuICAgIGxldCBieXRlX3ggPSAoYnl0ZV9pbmRleCAlIGJ5dGVfaG9sZGVyX2NvbHMpICogYnl0ZV9jb2xzICogYnM7XG4gICAgbGV0IGJ5dGVfeSA9IE1hdGguZmxvb3IoYnl0ZV9pbmRleCAvIGJ5dGVfaG9sZGVyX2NvbHMpICogYnl0ZV9yb3dzICogYnM7XG5cbiAgICBsZXQgYml0X3ggPSAoY3Vyc29yWzBdIC0gYnl0ZV94KSAvIGJzO1xuICAgIGxldCBiaXRfeSA9IChjdXJzb3JbMV0gLSBieXRlX3kpIC8gYnM7XG5cbiAgICBsZXQgYml0X2luZGV4ID0gYml0X3kgKiBieXRlX2NvbHMgKyBiaXRfeDtcblxuICAgIC8vIGNsZWFuIHVwIGJ5dGUgaW5kZXggaWYgaXQgaXMgb3V0c2lkZSB0aGUgYm91bmRzXG4gICAgaWYgKGJ5dGVfaW5kZXggPiBieXRlcy5sZW5ndGggLSAxKSB7XG4gICAgICBsZXQgbGFzdF9ieXRlX2luZGV4ID0gYnl0ZXMubGVuZ3RoIC0gMTtcbiAgICAgIGJ5dGVfaW5kZXggPSBsYXN0X2J5dGVfaW5kZXg7XG4gICAgICBieXRlX3ggPSAobGFzdF9ieXRlX2luZGV4ICUgYnl0ZV9ob2xkZXJbMF0pICogYnl0ZV9jb2xzICogYnM7XG4gICAgICBieXRlX3kgPSBNYXRoLmZsb29yKGxhc3RfYnl0ZV9pbmRleCAvIGJ5dGVfaG9sZGVyWzBdKSAqIGJ5dGVfcm93cyAqIGJzO1xuICAgICAgY3Vyc29yWzBdID0gYnl0ZV94ICsgYml0X3ggKiBicztcbiAgICAgIGN1cnNvclsxXSA9IGJ5dGVfeSArIGJpdF95ICogYnM7XG4gICAgfVxuXG4gICAgb3R4LnN0cm9rZVN0eWxlID0gYmx1ZTtcbiAgICBvdHgubGluZVdpZHRoID0gMjtcbiAgICBvdHguc3Ryb2tlUmVjdChcbiAgICAgIGJ5dGVfeCAtIDEgKyBvZmZzZXRfeCxcbiAgICAgIGJ5dGVfeSAtIDEgKyBvZmZzZXRfeSxcbiAgICAgIGJ5dGVfY29scyAqIGJzICsgMixcbiAgICAgIGJ5dGVfcm93cyAqIGJzICsgMlxuICAgICk7XG5cbiAgICBvdHguc3Ryb2tlU3R5bGUgPSByZWQ7XG4gICAgb3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgb3R4LnN0cm9rZVJlY3QoXG4gICAgICBjdXJzb3JbMF0gLSAxICsgb2Zmc2V0X3gsXG4gICAgICBjdXJzb3JbMV0gLSAxICsgb2Zmc2V0X3ksXG4gICAgICBicyArIDIsXG4gICAgICBicyArIDJcbiAgICApO1xuXG4gICAgbGV0IGRpc3BsYXlfdGV4dCA9IHRleHQuc2xpY2UoKTtcbiAgICBsZXQgZGlzcGxheV9hcnJheSA9IGRpc3BsYXlfdGV4dC5zcGxpdCgnJyk7XG4gICAgZGlzcGxheV9hcnJheVtieXRlX2luZGV4XSA9XG4gICAgICBgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAke2JsdWV9XCI+YCArXG4gICAgICBkaXNwbGF5X2FycmF5W2J5dGVfaW5kZXhdICtcbiAgICAgICc8L3NwYW4+JztcbiAgICBsZXQgbmV3X3RleHQgPSBkaXNwbGF5X2FycmF5LmpvaW4oJycpO1xuICAgIHNldERpc3BsYXlUZXh0KG5ld190ZXh0KTtcblxuICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBiaXRfcmVhZG91dCA9IHJldmVyc2VTdHJpbmcoYnl0ZXNbYnl0ZV9pbmRleF0pXG4gICAgICAgIC5zcGxpdCgnJylcbiAgICAgICAgLm1hcCgoYiwgaSkgPT4ge1xuICAgICAgICAgIGlmIChiaXRfaW5kZXggPT09IDcgLSBpKSB7XG4gICAgICAgICAgICByZXR1cm4gYDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDogJHtyZWR9O1wiPiR7Yn08L3NwYW4+YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuam9pbignJyk7XG4gICAgICByZWFkb3V0LmlubmVySFRNTCA9IGBCeXRlICR7Ynl0ZV9pbmRleFxuICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAucGFkU3RhcnQoYnl0ZXMubGVuZ3RoLnRvU3RyaW5nKCkubGVuZ3RoLCAnMCcpfTogJHtiaXRfcmVhZG91dH1gO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3BvbmQoKSB7XG4gICAgbGV0IHRleHRkaXYgPSB0ZXh0ZGl2X3JlZi5jdXJyZW50O1xuICAgIGxldCBjb250YWluZXIgPSBjb250YWluZXJfcmVmLmN1cnJlbnQ7XG5cbiAgICBsZXQgY2FudmFzID0gY2FudmFzX3JlZi5jdXJyZW50O1xuICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGN0eC5mb250ID0gYCR7ZnN9cHgvJHtsaH0gY3VzdG9tb25vYDtcbiAgICBsZXQgY2ggPSBjdHgubWVhc3VyZVRleHQoJ3cnKS53aWR0aDtcblxuICAgIGxldCBvZmZzZXRfeCA9IGNoICogMjtcbiAgICBsZXQgb2Zmc2V0X3kgPSBybGg7XG4gICAgb2Zmc2V0X3JlZi5jdXJyZW50ID0gW29mZnNldF94LCBvZmZzZXRfeV07XG5cbiAgICBsZXQgYnl0ZXMgPSBjb252ZXJ0U3RyaW5nVG9CeXRlcyh0ZXh0KTtcblxuICAgIGxldCBieXRlX3dpZHRoID0gYnl0ZV9jb2xzICogYnM7XG4gICAgbGV0IGJ5dGVfaGVpZ2h0ID0gYnl0ZV9yb3dzICogYnM7XG5cbiAgICBsZXQgYnl0ZV9ob2xkZXJfY29scyA9IE1hdGguZmxvb3IodGV4dGRpdi5vZmZzZXRXaWR0aCAvIGJ5dGVfd2lkdGgpO1xuICAgIGxldCBieXRlX2hvbGRlcl9yb3dzID0gTWF0aC5jZWlsKGJ5dGVzLmxlbmd0aCAvIGJ5dGVfaG9sZGVyX2NvbHMpO1xuICAgIGJ5dGVfaG9sZGVyX3JlZi5jdXJyZW50ID0gW2J5dGVfaG9sZGVyX2NvbHMsIE1hdGgubWF4KDEsIGJ5dGVfaG9sZGVyX3Jvd3MpXTtcblxuICAgIGxldCBieXRlX2hvbGRlcl93aWR0aCA9IGJ5dGVfaG9sZGVyX2NvbHMgKiBieXRlX2NvbHMgKiBicztcbiAgICBsZXQgYnl0ZV9ob2xkZXJfaGVpZ2h0ID0gYnl0ZV9ob2xkZXJfcm93cyAqIGJ5dGVfcm93cyAqIGJzO1xuXG4gICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGJ5dGVfaG9sZGVyX2hlaWdodCArIHJsaCAqIDI7XG4gICAgaWYgKGJ5dGVfaG9sZGVyX2hlaWdodCA+IHRleHRkaXYub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYnl0ZV9ob2xkZXJfaGVpZ2h0ICsgcmxoICogMiArICdweCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSB0ZXh0ZGl2Lm9mZnNldEhlaWdodCArIHJsaCAqIDI7XG4gICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gdGV4dGRpdi5vZmZzZXRIZWlnaHQgKyBybGggKiAyICsgJ3B4JztcbiAgICB9XG5cbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgIGZvciAobGV0IGJ5ciA9IDA7IGJ5ciA8IGJ5dGVfaG9sZGVyX3Jvd3M7IGJ5cisrKSB7XG4gICAgICBmb3IgKGxldCBieWMgPSAwOyBieWMgPCBieXRlX2hvbGRlcl9jb2xzOyBieWMrKykge1xuICAgICAgICBsZXQgYnl0ZV9pbmRleCA9IGJ5ciAqIGJ5dGVfaG9sZGVyX2NvbHMgKyBieWM7XG4gICAgICAgIGxldCBieXRlID0gYnl0ZXNbYnl0ZV9pbmRleF07XG4gICAgICAgIGlmIChieXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb3IgKGxldCBiciA9IDA7IGJyIDwgYnl0ZV9yb3dzOyBicisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBiYyA9IDA7IGJjIDwgYnl0ZV9jb2xzOyBiYysrKSB7XG4gICAgICAgICAgICAgIGxldCBiaXQgPSBieXRlLnNwbGl0KCcnKVticiAqIGJ5dGVfY29scyArIGJjXTtcbiAgICAgICAgICAgICAgaWYgKGJpdCA9PT0gJzEnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBieWMgKiBieXRlX2NvbHMgKiBicyArIGJjICogYnMgKyBvZmZzZXRfeDtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IGJ5ciAqIGJ5dGVfcm93cyAqIGJzICsgYnIgKiBicyArIG9mZnNldF95O1xuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCBicywgYnMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3R4LmZvbnQgPSBgJHtmc31weCBjdXN0b21vbm9gO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBsZXQgaGVpZ2h0ID0gd3JhcFRleHQoXG4gICAgICBjdHgsXG4gICAgICB0ZXh0LFxuICAgICAgY2FudmFzLndpZHRoIC8gMiArIGNoICogMSxcbiAgICAgIHJsaCArIHJsaCAvIDIsXG4gICAgICAoY2FudmFzLndpZHRoIC0gNiAqIGNoKSAvIDIgKyBjaCAtIDAuMSxcbiAgICAgIGZzICogbGhcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVGV4dCh2YWx1ZSkge1xuICAgIHNldFRleHQodmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24ga2V5QWN0aW9uKGtleSwgcmVwZWF0KSB7XG4gICAgbGV0IGttID0ga2V5bWFwX3JlZi5jdXJyZW50O1xuICAgIGxldCBjdXJzb3IgPSBjdXJzb3JfcmVmLmN1cnJlbnQ7XG4gICAgbGV0IHhfaW5jID0gYnM7XG4gICAgbGV0IHlfaW5jID0gYnM7XG4gICAgbGV0IGJ5dGVfaG9sZGVyID0gYnl0ZV9ob2xkZXJfcmVmLmN1cnJlbnQ7XG5cbiAgICBsZXQgYnl0ZXMgPSBjb252ZXJ0U3RyaW5nVG9CeXRlcyh0ZXh0KTtcbiAgICBsZXQgYnl0ZV9pbmRleCA9XG4gICAgICBNYXRoLmZsb29yKGN1cnNvclsxXSAvIGJ5dGVfaGVpZ2h0KSAqIGJ5dGVfaG9sZGVyWzBdICtcbiAgICAgIE1hdGguZmxvb3IoY3Vyc29yWzBdIC8gYnl0ZV93aWR0aCk7XG4gICAgbGV0IGJ5dGVfeCA9IChieXRlX2luZGV4ICUgYnl0ZV9ob2xkZXJbMF0pICogYnl0ZV9jb2xzICogYnM7XG4gICAgbGV0IGJ5dGVfeSA9IE1hdGguZmxvb3IoYnl0ZV9pbmRleCAvIGJ5dGVfaG9sZGVyWzBdKSAqIGJ5dGVfcm93cyAqIGJzO1xuXG4gICAgbGV0IHByZXZfY3Vyc29yID0gY3Vyc29yLnNsaWNlKCk7XG5cbiAgICBsZXQgYml0X3ggPSAoY3Vyc29yWzBdIC0gYnl0ZV94KSAvIGJzO1xuICAgIGxldCBiaXRfeSA9IChjdXJzb3JbMV0gLSBieXRlX3kpIC8gYnM7XG5cbiAgICBsZXQgYml0X2luZGV4ID0gYml0X3kgKiBieXRlX2NvbHMgKyBiaXRfeDtcblxuICAgIGlmIChrbVsnaCddKSBjdXJzb3JbMF0gLT0geF9pbmM7XG4gICAgaWYgKGttWydsJ10pIGN1cnNvclswXSArPSB4X2luYztcblxuICAgIGlmIChrbVsnaiddKSBjdXJzb3JbMV0gKz0geV9pbmM7XG4gICAgaWYgKGttWydrJ10pIGN1cnNvclsxXSAtPSB5X2luYztcblxuICAgIGxldCBuZXdfYnl0ZV9pbmRleCA9XG4gICAgICBNYXRoLmZsb29yKGN1cnNvclsxXSAvIGJ5dGVfaGVpZ2h0KSAqIGJ5dGVfaG9sZGVyWzBdICtcbiAgICAgIE1hdGguZmxvb3IoY3Vyc29yWzBdIC8gYnl0ZV93aWR0aCk7XG5cbiAgICBpZiAobmV3X2J5dGVfaW5kZXggPiBieXRlcy5sZW5ndGggLSAxKSB7XG4gICAgICBpZiAoY3Vyc29yWzBdID4gcHJldl9jdXJzb3JbMF0pIHtcbiAgICAgICAgY3Vyc29yWzBdID0gcHJldl9jdXJzb3JbMF07XG4gICAgICB9XG4gICAgICBpZiAoY3Vyc29yWzFdID4gcHJldl9jdXJzb3JbMV0pIHtcbiAgICAgICAgY3Vyc29yWzFdID0gcHJldl9jdXJzb3JbMV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjdXJzb3JbMF0gKyBjdXJzb3JbMl0gPiBieXRlX2hvbGRlclswXSAqIGJzKSB7XG4gICAgICAgIGlmIChieXRlc1tieXRlX2luZGV4ICsgMV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGN1cnNvclswXSA9IDA7XG4gICAgICAgICAgY3Vyc29yWzFdICs9IDggKiBicztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGN1cnNvclswXSA8IDApIHtcbiAgICAgICAgaWYgKGJ5dGVfaW5kZXggPT09IDApIHtcbiAgICAgICAgICBjdXJzb3JbMF0gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnNvclswXSA9IGJ5dGVfaG9sZGVyWzBdICogYnl0ZV9jb2xzICogYnMgLSBjdXJzb3JbMl07XG4gICAgICAgICAgY3Vyc29yWzFdIC09IDggKiBicztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGN1cnNvclsxXSA8IDApIHtcbiAgICAgICAgY3Vyc29yWzFdID0gMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgYml0X2NoYW5nZWQgPSBmYWxzZTtcbiAgICBpZiAoKGtleSA9PT0gJ2YnICYmICFyZXBlYXQpIHx8IChrbVsnZiddICYmIGtleSAhPT0gJ2YnKSkge1xuICAgICAgYml0X2NoYW5nZWQgPSB0cnVlO1xuICAgICAgY2hhbmdlQml0KCdmJyk7XG4gICAgfSBlbHNlIGlmIChrbVsnZCddKSB7XG4gICAgICBiaXRfY2hhbmdlZCA9IHRydWU7XG4gICAgICBjaGFuZ2VCaXQoMSk7XG4gICAgfSBlbHNlIGlmIChrbVsnZSddKSB7XG4gICAgICBiaXRfY2hhbmdlZCA9IHRydWU7XG4gICAgICBjaGFuZ2VCaXQoMCk7XG4gICAgfVxuXG4gICAgLy8gaWYgKGttWydhJ10gJiYgIShrZXkgPT09ICdhJyAmJiByZXBlYXQpKSB7XG4gICAgaWYgKGttWydhJ10pIHtcbiAgICAgIGJpdF9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIG1hdGhCeXRlKCdhZGQnKTtcbiAgICAgIC8vIH0gZWxzZSBpZiAoa21bJ3MnXSAmJiAhKGtleSA9PT0gJ3MnICYmIHJlcGVhdCkpIHtcbiAgICB9IGVsc2UgaWYgKGttWydzJ10pIHtcbiAgICAgIGJpdF9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIG1hdGhCeXRlKCdzdWJ0cmFjdCcpO1xuICAgIH1cblxuICAgIGlmICghYml0X2NoYW5nZWQpIG1vdmUoKTtcblxuICAgIGlmIChrZXkgPT09ICd0Jykge1xuICAgICAgdGV4dGFyZWFfcmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgIGxldCB0ID0gdGV4dGFyZWFfcmVmLmN1cnJlbnQ7XG4gICAgICB0LnNlbGVjdGlvblN0YXJ0ID0gdC5zZWxlY3Rpb25FbmQgPSB0LnZhbHVlLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3cnKSB7XG4gICAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgdmFyIHJldm9rZVVSTCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChtZS5ocmVmKTtcbiAgICAgICAgICBtZS5ocmVmID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXZva2VVUkwpO1xuICAgICAgfTtcblxuICAgICAgY2FudmFzX3JlZi5jdXJyZW50LnRvQmxvYihmdW5jdGlvbihibG9iKSB7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICdkb3dubG9hZCcsXG4gICAgICAgICAgYGJpeC0ke25ldyBEYXRlKClcbiAgICAgICAgICAgIC50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAuc2xpY2UoMCwgLTQpXG4gICAgICAgICAgICAucmVwbGFjZSgvLS9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC86L2csICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwuL2csICcnKX1aLnBuZ2BcbiAgICAgICAgKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJldm9rZVVSTCk7XG4gICAgICAgIGxpbmsuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICBuZXcgTW91c2VFdmVudChgY2xpY2tgLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZpZXc6IHdpbmRvdyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICc/Jykge1xuICAgICAgc2V0SGVscChwcmV2U3RhdGUgPT4ge1xuICAgICAgICByZXR1cm4gIXByZXZTdGF0ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVzcG9uZCgpO1xuICAgIG1vdmUoKTtcbiAgfSwgW3RleHRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlc3BvbmQoKTtcbiAgICBtb3ZlKCk7XG4gIH0sIFtdKTtcblxuICBmdW5jdGlvbiBkb3duSGFuZGxlcihlKSB7XG4gICAgbGV0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAga2V5bWFwX3JlZi5jdXJyZW50W2tleV0gPSB0cnVlO1xuICAgIGtleUFjdGlvbihrZXksIGUucmVwZWF0KTtcbiAgICBpZiAoa2V5ID09PSAndCcpIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwSGFuZGxlcihlKSB7XG4gICAgbGV0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAga2V5bWFwX3JlZi5jdXJyZW50W2tleV0gPSBmYWxzZTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkb3duSGFuZGxlcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBIYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkb3duSGFuZGxlcik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB1cEhhbmRsZXIpO1xuICAgIH07XG4gIH0sIFt0ZXh0XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdiByZWY9e2NvbnRhaW5lcl9yZWZ9IHN0eWxlPXt7IGJhY2tncm91bmQ6ICd3aGl0ZScgfX0+XG4gICAgICAgIDxjYW52YXNcbiAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogMCwgdG9wOiAwIH19XG4gICAgICAgICAgcmVmPXtjYW52YXNfcmVmfVxuICAgICAgICAvPlxuICAgICAgICA8Y2FudmFzXG4gICAgICAgICAgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6IDAsIHRvcDogMCB9fVxuICAgICAgICAgIHJlZj17Y2FudmFzX292ZXJsYXlfcmVmfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICAgIC4uLnBJbmxpbmUoJzJjaCcpLFxuICAgICAgICAgICAgLi4ucEJsb2NrKHJsaCksXG4gICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiAnMWZyIDFmcicsXG4gICAgICAgICAgICBncmlkQ29sdW1uR2FwOiAnMmNoJyxcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiAvPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHJlZj17dGV4dGRpdl9yZWZ9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgY29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXG4gICAgICAgICAgICAgICAgd29yZEJyZWFrOiAnYnJlYWstd29yZCcsXG4gICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGRpc3BsYXlfdGV4dCArICfigIsnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgZS50YXJnZXQuYmx1cigpO1xuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnRW50ZXInKSBlLnRhcmdldC5ibHVyKCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZVRleHQoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICByZWY9e3RleHRhcmVhX3JlZn1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHJlc2l6ZTogJ25vbmUnLFxuICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXG4gICAgICAgICAgICAgICAgd29yZEJyZWFrOiAnYnJlYWstd29yZCcsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHNwZWxsQ2hlY2s9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIHZhbHVlPXt0ZXh0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3sgLi4ucElubGluZSgnMmNoJyksIC4uLnBCbG9jayhybGggLyAyKSB9fVxuICAgICAgICByZWY9e3JlYWRvdXRfcmVmfVxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICByaWdodDogJzJjaCcsXG4gICAgICAgICAgYm90dG9tOiBybGgsXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3doaXRlJyxcbiAgICAgICAgICBmb250U2l6ZTogMTUsXG4gICAgICAgICAgbGluZUhlaWdodDogMS41LFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgcmlnaHQ6ICcyY2gnLFxuICAgICAgICAgICAgYm90dG9tOiBybGgsXG4gICAgICAgICAgICBkaXNwbGF5OiAhaGVscCA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxLZXljYXAgY2xpY2tLZXk9e2NsaWNrS2V5fSBrPVwiP1wiIGxhYmVsPVwiXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgLi4ucElubGluZSgnMmNoJyksXG4gICAgICAgICAgICAuLi5wQmxvY2socmxoIC8gMiksXG4gICAgICAgICAgICBvdXRsaW5lOiAnc29saWQgMXB4IGJsYWNrJyxcbiAgICAgICAgICAgIGRpc3BsYXk6IGhlbHAgPyAnYmxvY2snIDogJ25vbmUnLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogcmxoIC8gNCB9fT5cbiAgICAgICAgICAgIEJpeCBsZXQncyB5b3UgZHJhdyBvbiBiaW5hcnkgdG8gZ2xpdGNoIHRleHQuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5NT1ZFPC9kaXY+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4V3JhcDogJ3dyYXAnLCBtYXJnaW5Cb3R0b206IHJsaCAvIDQgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8S2V5Y2FwIGNsaWNrS2V5PXtjbGlja0tleX0gaz1cImhcIiBsYWJlbD1cInByZXZpb3VzIGJ5dGVcIiAvPlxuICAgICAgICAgICAgPEtleWNhcCBjbGlja0tleT17Y2xpY2tLZXl9IGs9XCJqXCIgbGFiZWw9XCJuZXh0IGJpdFwiIC8+XG4gICAgICAgICAgICA8S2V5Y2FwIGNsaWNrS2V5PXtjbGlja0tleX0gaz1cImtcIiBsYWJlbD1cInByZXZpb3VzIGJpdFwiIC8+XG4gICAgICAgICAgICA8S2V5Y2FwIGNsaWNrS2V5PXtjbGlja0tleX0gaz1cImxcIiBsYWJlbD1cIm5leHQgYnl0ZVwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5FRElUIEJJTkFSWTwvZGl2PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleFdyYXA6ICd3cmFwJywgbWFyZ2luQm90dG9tOiBybGggLyA0IH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEtleWNhcCBjbGlja0tleT17Y2xpY2tLZXl9IGs9XCJkXCIgbGFiZWw9XCJkcmF3XCIgLz5cbiAgICAgICAgICAgIDxLZXljYXAgY2xpY2tLZXk9e2NsaWNrS2V5fSBrPVwiZVwiIGxhYmVsPVwiZXJhc2VcIiAvPlxuICAgICAgICAgICAgPEtleWNhcCBjbGlja0tleT17Y2xpY2tLZXl9IGs9XCJmXCIgbGFiZWw9XCJmbGlwXCIgLz5cbiAgICAgICAgICAgIDxLZXljYXAgY2xpY2tLZXk9e2NsaWNrS2V5fSBrPVwiYVwiIGxhYmVsPVwiYWRkIDEgdG8gYnl0ZVwiIC8+XG4gICAgICAgICAgICA8S2V5Y2FwIGNsaWNrS2V5PXtjbGlja0tleX0gaz1cInNcIiBsYWJlbD1cInN1YnRyYWN0IDEgZnJvbSBieXRlXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlNQRUNJQUw8L2Rpdj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhXcmFwOiAnd3JhcCcsIG1hcmdpbkJvdHRvbTogcmxoIC8gNCB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxLZXljYXAgY2xpY2tLZXk9e2NsaWNrS2V5fSBrPVwidFwiIGxhYmVsPVwiZWRpdCB0ZXh0XCIgLz5cbiAgICAgICAgICAgIDxLZXljYXAgY2xpY2tLZXk9e2NsaWNrS2V5fSBrPVwid1wiIGxhYmVsPVwic2F2ZSBhcyBwbmdcIiAvPlxuICAgICAgICAgICAgPEtleWNhcCBjbGlja0tleT17Y2xpY2tLZXl9IGs9XCI/XCIgbGFiZWw9XCJ0b2dnbGUgaGVscFwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vY29uc3RyYWludC1zeXN0ZW1zL2JpeFwiPlZpZXcgc291cmNlPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGdsb2JhbCBqc3g+e2BcbiAgICAgICAgQGZvbnQtZmFjZSB7XG4gICAgICAgICAgZm9udC1mYW1pbHk6ICdjdXN0b20nO1xuICAgICAgICAgIHNyYzogdXJsKCcvSUJNUGxleFNhbnMtUmVndWxhci53b2ZmMicpIGZvcm1hdCgnd29mZjInKSxcbiAgICAgICAgICAgIHVybCgnL0lCTVBsZXhTYW5zLVJlZ3VsYXIud29mZicpIGZvcm1hdCgnd29mZicpO1xuICAgICAgICB9XG4gICAgICAgIEBmb250LWZhY2Uge1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnY3VzdG9tb25vJztcbiAgICAgICAgICBzcmM6IHVybCgnL0lCTVBsZXhNb25vLVJlZ3VsYXIud29mZjInKSBmb3JtYXQoJ3dvZmYyJyksXG4gICAgICAgICAgICB1cmwoJy9JQk1QbGV4TW9uby1SZWd1bGFyLndvZmYnKSBmb3JtYXQoJ3dvZmYnKTtcbiAgICAgICAgfVxuICAgICAgICAqIHtcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICB9XG4gICAgICAgIGh0bWwge1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnY3VzdG9tb25vJywgc2Fucy1zZXJpZjtcbiAgICAgICAgICBmb250LXNpemU6ICR7ZnN9cHg7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6ICR7bGh9O1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNkZGQ7XG4gICAgICAgIH1cbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICBoMSxcbiAgICAgICAgaDIsXG4gICAgICAgIGgzLFxuICAgICAgICBoNCxcbiAgICAgICAgaDUsXG4gICAgICAgIGg2IHtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICAgIH1cbiAgICAgICAgcCB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIG1hcmdpbi10b3A6ICR7cmxofXB4O1xuICAgICAgICB9XG4gICAgICAgIGltZyB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgYSB7XG4gICAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgIH1cbiAgICAgICAgYTpob3ZlciB7XG4gICAgICAgICAgb3BhY2l0eTogMC44O1xuICAgICAgICB9XG4gICAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICAgICAgZm9udDogaW5oZXJpdDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0YXJlYTpmb2N1cyB7XG4gICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMTI1KTtcbiAgICAgICAgfVxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogODAwcHgpIHtcbiAgICAgICAgICAuaGVscCB7XG4gICAgICAgICAgICBtYXgtaGVpZ2h0OiBjYWxjKDUwdmggLSAke3JsaCAqIDJ9cHgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuZGlwdHljaC1jb250YWluZXIge1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDUwdmg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICNfX25leHQtcHJlcmVuZGVyLWluZGljYXRvciB7XG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW5kZXg7XG4iXX0= */\n/*@ sourceURL=/home/grant/sites/constraint-systems/bix/pages/index.js */")));
};

/* harmony default export */ __webpack_exports__["default"] = (Index);

/***/ })

})
//# sourceMappingURL=index.js.39459ee2ae782b1d05ac.hot-update.js.map